window.addEventListener('message', function(event) {
    console.log('Messaggio ricevuto nell\'iframe:', event.data);
    
    if (event.data === 'scroll-up') {
        // Trova il pulsante scroll-up e simula il clic
        const scrollUpButton = document.getElementById('scroll-up');
        if (scrollUpButton) {
            scrollUpButton.click();
            console.log('Clic su scroll-up');
            // (Facoltativo) Cambia canale, ad esempio per scorrere i canali
            const nextChannelButton = document.querySelector('.next-channel');
            if (nextChannelButton) {
                nextChannelButton.click();
                console.log('Cambio canale (scroll-up)');
            }
        } else {
            console.log('Pulsante scroll-up non trovato');
        }
    } else if (event.data === 'scroll-down') {
        // Trova il pulsante scroll-down e simula il clic
        const scrollDownButton = document.getElementById('scroll-down');
        if (scrollDownButton) {
            scrollDownButton.click();
            console.log('Clic su scroll-down');
            // (Facoltativo) Cambia canale, ad esempio per scorrere i canali
            const prevChannelButton = document.querySelector('.prev-channel');
            if (prevChannelButton) {
                prevChannelButton.click();
                console.log('Cambio canale (scroll-down)');
            }
        } else {
            console.log('Pulsante scroll-down non trovato');
        }
    } else if (event.data === 'voice-control') {
        // Clicca sul pulsante di voice control
        const voiceControlButton = document.getElementById('voice-control-button');
        if (voiceControlButton) {
            voiceControlButton.click();
            console.log('Clic su voice-control');
        } else {
            console.log('Pulsante voice-control non trovato');
        }
    }
});
