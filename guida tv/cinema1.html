<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinema +24HD</title>
    <link href="https://vjs.zencdn.net/8.3.0/video-js.css" rel="stylesheet">
    <link href="https://brymeteo.github.io/tv/lity.min.css" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #video-container {
            position: relative;
            width: 100%;
            height: 100vh;
            background: black;
        }

        #my-video {
            width: 100%;
            height: 100%;
        }

        #logo-top-left,
        #logo-bottom-right,
        #second-logo-top-left,
        .new-logo {
            position: absolute;
            transition: transform 0.5s;
        }

        #logo-top-left {
            top: 7%;
            right: 75%;
            max-width: 20%;
            width: auto;
            height: auto;
            transition: opacity 1s, transform 33s;
            opacity: 0;
        }

        #logo-bottom-right {
            top: 89%;
            right: 4%;
            max-width: 13%;
            width: auto;
            height: auto;
            opacity: 70%;
        }

        #second-logo-top-left {
            top: 7%;
            right: 75%;
            max-width: 20%;
            width: auto;
            height: auto;
            transition: opacity 1s, transform 33s;
            opacity: 0;
        }

        .new-logo {
            top: 7%;
            right: 75%;
            max-width: 20%;
            width: auto;
            height: auto;
            transition: opacity 1s, transform 33s;
            opacity: 0;
        }

        @media (max-width: 367px) {
            #logo-top-left,
            #logo-bottom-right,
            #second-logo-top-left,
            .new-logo {
                display: none;
            }
        }

        #interactive-image {
            max-width: 20%;
            top: 87%;
            width: auto;
            height: auto;
            cursor: pointer;
            z-index: 1000;
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
        }
    </style>
</head>
<body>
    <div id="video-container">
        <video id="my-video" class="video-js vjs-default-skin" controls preload="auto" playsinline>
            <source id="video-source" src="https://app.viloud.tv/hls/channel/sep/4feb16694749e13acaae724faa8d8009/high.m3u8"
                type="application/x-mpegURL">
            <p class="vjs-no-js">Per vedere questo video, abilita JavaScript e considera l'aggiornamento a un browser web che
                supporti HTML5 video</p>
        </video>

        <img id="logo-top-left"
            src="https://7e11bb4538.cbaul-cdnwnd.com/873c19a2e1fe56e8793848f12717e9be/200000651-1ef3f1ef40/TITOLO-2.webp?ph=7e11bb4538"
            alt="Logo Top Left">

        <img id="second-logo-top-left" src="https://7e11bb4538.cbaul-cdnwnd.com/873c19a2e1fe56e8793848f12717e9be/200000637-3c15f3c162/TITOLO5.webp?ph=7e11bb4538" alt="">

        <!-- Nuovi loghi -->
        <img class="new-logo" src="https://7e11bb4538.cbaul-cdnwnd.com/873c19a2e1fe56e8793848f12717e9be/200000653-e6d6be6d6d/TITOLO-51.webp?ph=7e11bb4538" alt="Nuovo Logo 1">

        <!-- Aggiungi altri loghi con ID e URL unici -->
    </div>

    <a href="https://tuonuovoindirizzo.com">
        <img id="logo-bottom-right"
            src="https://i.ibb.co/xqn9c2z/Cinema-24hd2.png"
            alt="Logo uno casa tv in basso">
    </a>

    <!-- Immagine interattiva fuori da #video-container -->
    <img id="interactive-image"
        src="https://i.ibb.co/1M84PQn/GGG.png"
        alt="Interactive Image"
        data-lity
        data-lity-target="https://brymeteo.github.io/player/guida%20tv/cinemax-epg.html">
    
    <script src="https://vjs.zencdn.net/8.3.0/video.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lity/2.3.0/lity.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var myPlayer = videojs('my-video');
            var logoTopLeft = document.getElementById('logo-top-left');
            var logoBottomRight = document.getElementById('logo-bottom-right');
            var secondLogoTopLeft = document.getElementById('second-logo-top-left');
            var newLogos = document.querySelectorAll('.new-logo');
            var interactiveImage = document.getElementById('interactive-image');
            var interactionTimeout;

            myPlayer.el().appendChild(logoTopLeft);
            myPlayer.el().appendChild(logoBottomRight);
            myPlayer.el().appendChild(secondLogoTopLeft);
            newLogos.forEach(function (newLogo) {
                myPlayer.el().appendChild(newLogo);
            });

            function showSecondLogo() {
                secondLogoTopLeft.style.opacity = '1';
            }

            function hideSecondLogo() {
                secondLogoTopLeft.style.opacity = '0';
            }

            function showNewLogos() {
                newLogos.forEach(function (newLogo) {
                    newLogo.style.opacity = '1';
                });
            }

            function hideNewLogos() {
                newLogos.forEach(function (newLogo) {
                    newLogo.style.opacity = '0';
                });
            }

            function checkLogos() {
                var now = new Date();
                var currentHour = now.getHours();
                var currentMinute = now.getMinutes();

                var startHourLogo1 = 18;
                var startMinuteLogo1 = 39;

                var endHourLogo1 = 20;
                var endMinuteLogo1 = 10;

                var startHourLogo2 = 20;
                var startMinuteLogo2 = 20;

                var endHourLogo2 = 22;
                var endMinuteLogo2 = 10;

                var startHourNewLogos = 22;
                var startMinuteNewLogos = 20;

                var endHourNewLogos = 23;
                var endMinuteNewLogos = 57;

                var showTimeLogo1 = currentHour >= startHourLogo1 && currentMinute >= startMinuteLogo1;
                var hideTimeLogo1 = currentHour >= endHourLogo1 && currentMinute >= endMinuteLogo1;

                var showTimeLogo2 = currentHour >= startHourLogo2 && currentMinute >= startMinuteLogo2;
                var hideTimeLogo2 = currentHour >= endHourLogo2 && currentMinute >= endMinuteLogo2;

                var showTimeNewLogos = currentHour > startHourNewLogos || (currentHour === startHourNewLogos && currentMinute >= startMinuteNewLogos);
                var hideTimeNewLogos = currentHour > endHourNewLogos || (currentHour === endHourNewLogos && currentMinute >= endMinuteNewLogos);

                if (showTimeLogo1 && !hideTimeLogo1) {
                    logoTopLeft.style.opacity = '1';
                } else {
                    logoTopLeft.style.opacity = '0';
                }

                if (showTimeLogo2 && !hideTimeLogo2) {
                    showSecondLogo();
                } else {
                    hideSecondLogo();
                }

                if (showTimeNewLogos && !hideTimeNewLogos) {
                    showNewLogos();
                } else {
                    hideNewLogos();
                }
            }

            function checkVideoWaiting() {
                if (myPlayer.waiting()) {
                    myPlayer.load();
                    myPlayer.play();
                }
            }

            function showImageOnMousemove() {
                interactiveImage.style.display = 'block';

                clearTimeout(interactionTimeout);
                interactionTimeout = setTimeout(function () {
                    interactiveImage.style.display = 'none';
                }, 20000);  // 20 secondi
            }

            document.addEventListener('mousemove', showImageOnMousemove);

            interactiveImage.addEventListener('click', function () {
                // Apri l'immagine in una lightbox usando Lity
                $(interactiveImage).attr('', '');
                $(interactiveImage).click();
            });

            setInterval(checkLogos, 1000);
            setInterval(checkVideoWaiting, 1000);
        });
    </script>
</body>
</html>
